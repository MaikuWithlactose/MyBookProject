{"ast":null,"code":"import _asyncToGenerator from \"D:/Maika/Escritorio/bootcamp/TODONODE/RETO 2 CORREGIDO/MyBooksProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nconst API_URL = \"http://localhost:3000/\";\nexport class BooksService {\n  constructor() {}\n  getAll() {\n    return _asyncToGenerator(function* () {\n      debugger;\n      try {\n        let URL_GETALL = API_URL + \"/books\";\n        const response = yield axios.get(URL_GETALL);\n        return response.data.book;\n      } catch (error) {\n        console.error(\"Error fetching all books:\", error);\n        return error;\n      }\n    })();\n  }\n  getOne(id_libro) {\n    return _asyncToGenerator(function* () {\n      try {\n        let URL_GETONE = API_URL + \"/books/\" + id_libro;\n        const response = yield axios.get(URL_GETONE);\n        return response.data;\n      } catch (error) {\n        console.error(\"Error fetching book with ID :\" + id_libro, error);\n        return error;\n      }\n    })();\n  }\n  addBook(book) {\n    return _asyncToGenerator(function* () {\n      try {\n        let URL_ADD = API_URL + \"/books/\";\n        const response = yield axios.post(URL_ADD, book);\n        return response.data;\n      } catch (error) {\n        console.error(\"Error adding book:\", error);\n        return error;\n      }\n    })();\n  }\n  editBook(book) {\n    return _asyncToGenerator(function* () {\n      try {\n        let URL_EDIT = API_URL + \"/books/\";\n        const response = yield axios.put(URL_EDIT, book);\n        return true;\n      } catch (error) {\n        console.error(`Error editing book with ID `, error);\n        return false;\n      }\n    })();\n  }\n  deleteBook(id_book) {\n    return _asyncToGenerator(function* () {\n      try {\n        let URL_DELETE = API_URL + \"/books/\" + id_book;\n        const response = yield axios.delete(URL_DELETE);\n        return true;\n      } catch (error) {\n        console.error(`Error deleting book with ID `, error);\n        return false;\n      }\n    })();\n  }\n}","map":{"version":3,"names":["axios","API_URL","BooksService","constructor","getAll","_asyncToGenerator","URL_GETALL","response","get","data","book","error","console","getOne","id_libro","URL_GETONE","addBook","URL_ADD","post","editBook","URL_EDIT","put","deleteBook","id_book","URL_DELETE","delete"],"sources":["D:\\Maika\\Escritorio\\bootcamp\\TODONODE\\RETO 2 CORREGIDO\\MyBooksProject\\src\\app\\shared\\books.service.ts"],"sourcesContent":["import axios from 'axios';\nimport { Books } from '../models/books';\n\n\nconst API_URL = \"http://localhost:3000/\";\n\nexport class BooksService {\n\n  constructor() { }\n\n\n async getAll() {\n  debugger\n    try {\n      let URL_GETALL = API_URL+\"/books\"\n      const response = await axios.get(URL_GETALL);\n      return response.data.book;\n\n    } catch (error) {\n      console.error(\"Error fetching all books:\", error);\n      return error;\n    }\n  }\n\n async getOne(id_libro: number) {\n    try {\n      let URL_GETONE = API_URL+\"/books/\"+id_libro\n      const response = await axios.get(URL_GETONE);\n\n      return response.data;\n\n    } catch (error) {\n      console.error(\"Error fetching book with ID :\"+id_libro, error);\n      return error;\n    }\n  }\n\n  async addBook(book: Books) {\n      try {\n      let URL_ADD = API_URL+\"/books/\"\n      const response = await axios.post(URL_ADD, book);\n      return response.data;\n\n    } catch (error) {\n      console.error(\"Error adding book:\", error);\n      return error;\n    }\n  }\n\n  async editBook(book: Books) {\n    try {\n      let URL_EDIT = API_URL+\"/books/\"\n      const response = await axios.put(URL_EDIT, book);\n\n      return true;\n    } catch (error) {\n      console.error(`Error editing book with ID `, error);\n\n      return false;\n    }\n  }\n\n  async deleteBook(id_book: number) {\n    try {\n      let URL_DELETE = API_URL+\"/books/\"+id_book\n      const response = await axios.delete(URL_DELETE);\n\n      return true;\n\n    } catch (error) {\n      console.error(`Error deleting book with ID `, error);\n      return false;\n    }\n  }\n\n  // edit(book: Books): boolean {\n  //   const index = this.books.findIndex(b => b.id_book === book.id_book);\n  //   if (index !== -1) {\n  //     this.books[index] = book;\n  //     return true;\n  //   }\n  //   return false;\n  // }\n\n  // delete(id_book: number): boolean {\n  //   const index = this.books.findIndex(book => book.id_book === id_book);\n  //   if (index !== -1) {\n  //     this.books.splice(index, 1);\n  //     return true;\n  //   }\n  //   return false;\n  // }\n\n  \n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAIzB,MAAMC,OAAO,GAAG,wBAAwB;AAExC,OAAM,MAAOC,YAAY;EAEvBC,YAAA,GAAgB;EAGXC,MAAMA,CAAA;IAAA,OAAAC,iBAAA;MACX;MACE,IAAI;QACF,IAAIC,UAAU,GAAGL,OAAO,GAAC,QAAQ;QACjC,MAAMM,QAAQ,SAASP,KAAK,CAACQ,GAAG,CAACF,UAAU,CAAC;QAC5C,OAAOC,QAAQ,CAACE,IAAI,CAACC,IAAI;OAE1B,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,OAAOA,KAAK;;IACb;EACH;EAEKE,MAAMA,CAACC,QAAgB;IAAA,OAAAT,iBAAA;MAC1B,IAAI;QACF,IAAIU,UAAU,GAAGd,OAAO,GAAC,SAAS,GAACa,QAAQ;QAC3C,MAAMP,QAAQ,SAASP,KAAK,CAACQ,GAAG,CAACO,UAAU,CAAC;QAE5C,OAAOR,QAAQ,CAACE,IAAI;OAErB,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,GAACG,QAAQ,EAAEH,KAAK,CAAC;QAC9D,OAAOA,KAAK;;IACb;EACH;EAEMK,OAAOA,CAACN,IAAW;IAAA,OAAAL,iBAAA;MACrB,IAAI;QACJ,IAAIY,OAAO,GAAGhB,OAAO,GAAC,SAAS;QAC/B,MAAMM,QAAQ,SAASP,KAAK,CAACkB,IAAI,CAACD,OAAO,EAAEP,IAAI,CAAC;QAChD,OAAOH,QAAQ,CAACE,IAAI;OAErB,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;QAC1C,OAAOA,KAAK;;IACb;EACH;EAEMQ,QAAQA,CAACT,IAAW;IAAA,OAAAL,iBAAA;MACxB,IAAI;QACF,IAAIe,QAAQ,GAAGnB,OAAO,GAAC,SAAS;QAChC,MAAMM,QAAQ,SAASP,KAAK,CAACqB,GAAG,CAACD,QAAQ,EAAEV,IAAI,CAAC;QAEhD,OAAO,IAAI;OACZ,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QAEnD,OAAO,KAAK;;IACb;EACH;EAEMW,UAAUA,CAACC,OAAe;IAAA,OAAAlB,iBAAA;MAC9B,IAAI;QACF,IAAImB,UAAU,GAAGvB,OAAO,GAAC,SAAS,GAACsB,OAAO;QAC1C,MAAMhB,QAAQ,SAASP,KAAK,CAACyB,MAAM,CAACD,UAAU,CAAC;QAE/C,OAAO,IAAI;OAEZ,CAAC,OAAOb,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpD,OAAO,KAAK;;IACb;EACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}